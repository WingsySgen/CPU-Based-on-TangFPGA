### 汇编器

***

汇编器将汇编代码映射到机器码，写入ROM模块中。

步骤如下：

 1. 读取table文件。在std::map中储存指令或者常量对应的值。

 2. 预处理所有伪指令。由于当前伪指令只有LABEL，所以这一步就是在处理LABEL。将所有LABEL作为一个常量写入map中。

    这里存在一个bug。label的名称不应该与任何一个已经存在于map中的键相同。

 3. 处理所有程序，并进行映射。

 4. 写入文件。



8bit版本中每条指令（一行）4个字节：

```
 7:0      15:8     23:16    31:24
opcode    para1    para2    para3
1Byte     1Byte    1Byte    1Byte
```



32bit中每条指令（一行）4个字节，类似于RV指令格式：

不存在立即数的普通指令：

```
1:0     9:2      14:10    19:15    24:20
imm    opcode    para1    para2    para3
 2b      8b       5b       5b       5b
```

存在立即数的普通指令：

```
1:0     9:2      14:10    19:15    31:20
imm    opcode    para1    para2     imm
 2b      8b       5b       5b       12b
```



#### 更新日志：

2023.09.28： 2.1版本。

		1. 修复bug：一个仅有空格的空行会使得label识别错误。
		2. 支持导出日志文件、编译信息。提供更全面的编译信息（报错信息等）。
		2.1版本可以直接在命令行中调用编译生成的.exe文件。传入的第一个参数为源文件路径。此外会在main2.1的目录生成一个日志文件log。